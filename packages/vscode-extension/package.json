{
  "name": "cognitive-lens",
  "displayName": "Cognitive Lens",
  "description": "Shows Cognitive Complexity for TypeScript and C# methods",
  "version": "1.2.4",
  "publisher": "AhmedSamir",
  "repository": "https://github.com/AhmmedSamier/cognitive-lens",
  "icon": "resources/icon.png",
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onLanguage:typescript",
    "onLanguage:typescriptreact",
    "onLanguage:javascript",
    "onLanguage:javascriptreact",
    "onLanguage:csharp"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "cognitiveComplexity",
          "title": "Cognitive Lens",
          "icon": "resources/icon.png"
        }
      ]
    },
    "views": {
      "cognitiveComplexity": [
        {
          "type": "webview",
          "id": "cognitiveComplexityListView",
          "name": "Methods"
        }
      ]
    },
    "walkthroughs": [
      {
        "id": "cognitiveLens.walkthrough",
        "title": "Get Started with Cognitive Lens",
        "description": "Learn how to use and configure Cognitive Lens.",
        "steps": [
          {
            "id": "welcome",
            "title": "Welcome",
            "description": "Overview of features.",
            "media": {
              "markdown": "resources/walkthrough/welcome.md"
            },
            "completionEvents": [
              "onCommand:cognitiveComplexityListView.focus"
            ]
          },
          {
            "id": "configuration",
            "title": "Configuration",
            "description": "Adjust thresholds and visual options.",
            "media": {
              "markdown": "resources/walkthrough/configuration.md"
            }
          }
        ]
      }
    ],
    "configuration": {
      "type": "object",
      "title": "Cognitive Lens",
      "properties": {
        "cognitiveComplexity.trace.server": {
          "scope": "window",
          "type": "string",
          "enum": [
            "off",
            "messages",
            "verbose"
          ],
          "default": "off",
          "description": "Traces the communication between VS Code and the language server."
        },
        "cognitiveComplexity.threshold.warning": {
          "scope": "resource",
          "type": "number",
          "default": 15,
          "description": "Complexity score threshold for showing a warning."
        },
        "cognitiveComplexity.threshold.error": {
          "scope": "resource",
          "type": "number",
          "default": 25,
          "description": "Complexity score threshold for showing an error."
        },
        "cognitiveComplexity.showCodeLens": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Enable or disable CodeLens for cognitive complexity."
        },
        "cognitiveComplexity.showGutterIcon": {
          "scope": "resource",
          "type": "boolean",
          "default": false,
          "description": "Enable or disable the gutter icon for cognitive complexity."
        },
        "cognitiveComplexity.showDiagnostics": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Enable or disable diagnostics (warnings/errors) for cognitive complexity."
        },
        "cognitiveComplexity.showInlayHints.methodScore": {
          "scope": "resource",
          "type": "boolean",
          "default": false,
          "description": "Enable or disable the method score inlay hint."
        },
        "cognitiveComplexity.showInlayHints.details": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Enable or disable detailed contribution inlay hints."
        },
        "cognitiveComplexity.totalScorePrefix": {
          "scope": "resource",
          "type": "string",
          "default": "Cognitive Complexity",
          "description": "The prefix text to display before the total complexity score."
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "bun run package",
    "compile": "bun run package",
    "package": "tsup",
    "copy:wasm": "cp ../../node_modules/web-tree-sitter/tree-sitter.wasm dist/ && cp tree-sitter-c_sharp.wasm dist/ && cp public/tree-sitter-typescript.wasm dist/ && cp public/tree-sitter-tsx.wasm dist/",
    "package:vsix": "vsce package --no-dependencies"
  },
  "dependencies": {
    "vscode-languageclient": "^9.0.0",
    "@cognitive-complexity/language-server": "workspace:*"
  },
  "devDependencies": {
    "@types/vscode": "^1.80.0",
    "tsup": "^8.0.0",
    "vsce": "^2.15.0",
    "bun-types": "latest"
  },
  "bin": {
    "cognitive-complexity-ls": "./dist/server.js"
  }
}
